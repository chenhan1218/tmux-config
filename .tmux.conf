# Theme: based on base16 color scheme
# See https://github.com/chriskempson/base16.
set  -g status-bg colour11
set  -g status-fg colour8
set  -g status-justify centre # center align window list
set  -g status-left " #S "
set  -g status-left-length 20
set  -g status-left-bg colour12
set  -g status-left-fg colour0
set  -g status-right '#[fg=colour14]#(tmux-mem-cpu-load 1)'
set  -g status-right-length 140
setw -g window-status-format " #I #W#[fg=colour8]#F "
setw -g window-status-current-format " #I #W#[fg=colour11]#F "
setw -g window-status-current-attr none
setw -g window-status-current-bg colour0
setw -g window-status-current-fg colour2

set-option -g allow-rename off # useful while using tmux resurrect with zsh

# C-b is not acceptable -- Vim uses it
set-option -g prefix C-a

# Start numbering at 1
set -g base-index 1

# client connected to *that window*. Much more reasonable.
setw -g aggressive-resize on

# Activity monitoring
setw -g monitor-activity on
set -g visual-activity on

# Vi copypaste mode
set-window-option -g mode-keys vi
bind-key -t vi-copy 'v' begin-selection
bind-key -t vi-copy 'y' copy-selection

# hjkl pane traversal
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R
bind -n C-k send-keys -R \; clear-history

# status bar
set-option -g status-attr default
set-option -g update-environment "DBUS_SESSION_BUS_ADDRESS SSH_ASKPASS SSH_AUTH_SOCK SSH_AGENT_PID SSH_CONNECTION WINDOWID XAUTHORITY"

# set window split
bind-key v split-window -h -c "#{pane_current_path}"
bind-key b split-window -c "#{pane_current_path}"
bind-key c new-window -c "#{pane_current_path}"

bind-key C command-prompt -p "Name of new window: " "new-window -n '%%'"

# reload config
bind r source-file ~/.tmux.conf \; display-message "Config reloaded..."

# rm mouse mode fail
set -g mouse on

# List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-resurrect'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.tmux/plugins/tpm/tpm'
